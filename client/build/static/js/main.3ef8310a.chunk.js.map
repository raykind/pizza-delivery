{"version":3,"sources":["redux/actions.js","redux/types.js","hooks/http.hook.js","hooks/message.hook.js","components/loader/Loader.js","components/pizza-card/PizzaCard.js","pages/menu/MenuPage.js","pages/auth/AuthPage.js","components/navbar/Navbar.js","components/pizza-cart-row/PizzaCartRow.js","pages/cart/Cart.js","components/address/Address.js","components/bill/Bill.js","pages/make-order/MakeOrder.js","components/order-box/OrderBox.js","pages/orders/Orders.js","App.js","routes.js","serviceWorker.js","redux/reducer.js","index.js"],"names":["login","data","type","payload","getAllPizza","request","dispatch","a","token","JSON","parse","localStorage","getItem","setTimeout","Authorization","e","console","log","addToCart","pizza","removeFromCart","useHttp","useState","loading","setLoading","error","setError","useCallback","url","method","body","headers","stringify","fetch","response","json","ok","Error","message","clearError","useMessage","text","window","M","toast","html","Loader","className","mapDispatchToProps","connect","isAdded","setIsAdded","useEffect","cartPizzaIds","length","findIndex","id","_id","name","description","weight","src","photoUrl","alt","onClick","cost","state","cart","forEach","pizzaId","pizzaObject","find","item","map","pizzaItem","key","email","password","form","setForm","updateTextFields","changeHandler","event","target","value","registerHandler","loginHandler","userObject","userId","setItem","placeholder","onChange","htmlFor","style","marginRight","disabled","logout","history","useHistory","to","href","preventDefault","push","PizzaCartRow","onDelete","total","setTotal","deletePizza","recalculateTotal","withoutPizzaId","reduce","sum","Address","props","handleFieldChange","setState","proceedOrder","setAddress","country","district","city","street","building","flat","room","this","React","Component","Bill","address","pizzaDetails","useDispatch","savedCart","isComplete","setIsComplete","onAddressFilled","addressObject","addressStr","orderData","order","currentPizza","orders","setOrders","fetchedOrders","fetchOrders","routes","isAuthenticated","path","exact","useRoutes","Boolean","location","hostname","match","initialState","store","createStore","action","removeItem","newExtendedCart","newCollapsedCart","filter","compose","applyMiddleware","thunk","__REDUX_DEVTOOLS_EXTENSION__","f","app","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"ieAOO,SAASA,EAAMC,GACpB,MAAO,CACLC,KCTiB,QDUjBC,QAASF,GAUN,SAASG,EAAYC,GAC1B,8CAAO,WAAMC,GAAN,eAAAC,EAAA,sDACL,IACQC,EAAQC,KAAKC,MAAMC,aAAaC,QAAQ,aAAaJ,MAE3DK,WAAU,sBAAC,4BAAAN,EAAA,sEACUF,EAAQ,wBAAyB,MAAO,KAAM,CAC/DS,cAAe,UAAYN,IAFpB,OACHP,EADG,OAKTK,EAAS,CAAEJ,KC5BiB,uBD4BWC,QAASF,IALvC,2CAMR,KACH,MAAOc,GACPC,QAAQC,IAAIF,GAZT,2CAAP,sDAiBK,SAASG,EAAUC,GACxB,MAAO,CACLjB,KCrCuB,cDsCvBC,QAASgB,GAIN,SAASC,EAAeD,GAC7B,MAAO,CACLjB,KC3C4B,mBD4C5BC,QAASgB,G,kBE9CAE,EAAU,WAAO,IAAD,EACGC,oBAAS,GADZ,mBACpBC,EADoB,KACXC,EADW,OAEDF,mBAAS,MAFR,mBAEpBG,EAFoB,KAEbC,EAFa,KA+B3B,MAAO,CAAEH,UAASlB,QA3BFsB,sBAAW,uCAAC,WAAOC,GAAP,mCAAArB,EAAA,6DAAYsB,EAAZ,+BAAqB,MAAOC,EAA5B,+BAAmC,KAAMC,EAAzC,+BAAmD,GAC7EP,GAAW,GADe,SAGpBM,IACFA,EAAOrB,KAAKuB,UAAUF,GACtBC,EAAQ,gBAAkB,oBALJ,SAQDE,MAAML,EAAK,CAACC,SAAQC,OAAMC,YARzB,cAQlBG,EARkB,iBASLA,EAASC,OATJ,WASlBlC,EATkB,OAWnBiC,EAASE,GAXU,uBAYhB,IAAIC,MAAMpC,EAAKqC,SAAW,wBAZV,eAexBd,GAAW,GAfa,kBAiBjBvB,GAjBiB,wCAmBxBuB,GAAW,GACXE,EAAS,KAAEY,SApBa,+DAAD,sDAuBxB,IAIwBb,QAAOc,WAFfZ,uBAAY,kBAAMD,EAAS,QAAO,MC7B1Cc,EAAa,WACxB,OAAOb,uBAAY,SAAAc,GACbC,OAAOC,GAAKF,GACdC,OAAOC,EAAEC,MAAM,CAAEC,KAAMJ,MAExB,KCJQK,G,MAAS,WACpB,OACE,yBAAKC,UAAU,qBACb,yBAAKA,UAAU,4BACb,yBAAKA,UAAU,kCACb,yBAAKA,UAAU,uBACb,yBAAKA,UAAU,YAEjB,yBAAKA,UAAU,aACb,yBAAKA,UAAU,YAEjB,yBAAKA,UAAU,wBACb,yBAAKA,UAAU,iBC0CrBC,G,YAAqB,CACzB9B,YACAE,mBAGa6B,cAAQ,KAAMD,EAAdC,EAzDG,SAAC,GAA0C,IAAxC9B,EAAuC,EAAvCA,MAAOD,EAAgC,EAAhCA,UAAWE,EAAqB,EAArBA,eAAqB,EAC5BE,oBAAS,GADmB,mBACnD4B,EADmD,KAC1CC,EAD0C,KAsB1D,OAVAC,qBAAU,WACR,IAAMC,EAAe5C,KAAKC,MAAMC,aAAaC,QAAQ,iBAEjDyC,GAAgBA,EAAaC,SACyB,IAApDD,EAAaE,WAAU,SAAAC,GAAE,OAAIA,IAAOrC,EAAMsC,QAC5CN,GAAW,KAGd,CAAChC,EAAOD,IAGT,yBAAK6B,UAAU,uBACb,yBAAKA,UAAU,OACb,yBAAKA,UAAU,aACb,0BAAMA,UAAU,eAAe5B,EAAMuC,MACrC,0BAAMX,UAAU,qBAAqB5B,EAAMwC,aAC3C,0BAAMZ,UAAU,gBAAgB5B,EAAMyC,OAAtC,MAEF,yBAAKb,UAAU,cACb,yBAAKA,UAAU,eACb,yBAAMc,IAAK1C,EAAM2C,SAAUC,IAAI,MAEjC,4BACEhB,UAAS,uEACLG,EAAU,uBAAyB,mBAEvCc,QAnCgB,WACpBd,EACF9B,EAAeD,GAEfD,EAAUC,GAEZgC,GAAYD,KAgCJA,EACE,6CACA,qDAAgB,2BAAI/B,EAAM8C,KAAV,aCGxBjB,EAAqB,CACzB9B,aAIa+B,eAVS,SAAAiB,GAAK,MAAK,CAChC/C,MAAO+C,EAAM/C,MACbgD,KAAMD,EAAMC,QAQ0BnB,EAAzBC,EA/CE,SAAC,GAAgC,IAA9B9B,EAA6B,EAA7BA,MAAOD,EAAsB,EAAtBA,UAAWiD,EAAW,EAAXA,KAAW,EACnB9C,IAArBI,EADwC,EACxCA,MAAOc,EADiC,EACjCA,WACRD,EAAUE,IAqBhB,OAnBAY,qBAAU,WACRd,EAAQb,GACRc,MACC,CAACd,EAAOa,EAASC,IAEpBa,qBAAU,WACR,IAAMC,EAAe5C,KAAKC,MAAMC,aAAaC,QAAQ,iBAEjDO,EAAMmC,QAAUD,GAAgBA,EAAaC,QAC/CD,EAAae,SAAQ,SAAAC,GACnB,IAAMC,EAAcnD,EAAMoD,MAAK,SAAAC,GAAI,OAAIA,EAAKf,MAAQY,KAChDC,IAAyE,IAA1DH,EAAKZ,WAAU,SAAAiB,GAAI,OAAIA,EAAKf,MAAQa,EAAYb,QACjEvC,EAAUoD,QAIf,CAACnD,EAAOgD,EAAMjD,IAGZC,EAAMmC,OAKT,yBAAKP,UAAU,qBACb,6CACA,yBAAKA,UAAU,iBACZ5B,EAAMsD,KAAI,SAAAC,GAAS,OAAI,kBAAC,EAAD,CAAWC,IAAKD,EAAUjB,IAAKtC,MAAOuD,SAP3D,kBAAC,EAAD,S,eCqEL1B,EAAqB,CACzBhD,SAGaiD,cAAQ,KAAMD,EAAdC,EApGE,SAAC,GAAe,IAAbjD,EAAY,EAAZA,MAAY,EACgBqB,IAAvCE,EADuB,EACvBA,QAASlB,EADc,EACdA,QAASoB,EADK,EACLA,MAAOc,EADF,EACEA,WAC1BD,EAAUE,IAFc,EAGNlB,mBAAS,CAC/BsD,MAAO,GACPC,SAAU,KALkB,mBAGvBC,EAHuB,KAGjBC,EAHiB,KAQ9B3B,qBAAU,WACRd,EAAQb,GACRc,MACC,CAACd,EAAOa,EAASC,IAEpBa,qBAAU,WACRV,OAAOC,EAAEqC,qBACR,IAEH,IAAMC,EAAgB,SAAAC,GACpBH,EAAQ,2BAAKD,GAAN,kBAAaI,EAAMC,OAAOzB,KAAOwB,EAAMC,OAAOC,UAGjDC,EAAe,uCAAG,4BAAA9E,EAAA,+EAEDF,EAAQ,qBAAsB,OAAvB,eAAmCyE,IAFzC,OAEd7E,EAFc,OAGpBqC,EAAQrC,EAAKqC,SAHO,uGAAH,qDAQfgD,EAAY,uCAAG,8BAAA/E,EAAA,+EAEEF,EAAQ,kBAAmB,OAApB,eAAgCyE,IAFzC,OAEX7E,EAFW,OAGXsF,EAAa,CAAC/E,MAAOP,EAAKO,MAAOgF,OAAQvF,EAAKuF,QACpDxF,EAAMuF,GACN5E,aAAa8E,QAAQ,WAAYhF,KAAKuB,UAAUuD,IAL/B,yGAAH,qDAUlB,OACE,yBAAKxC,UAAU,OACb,yBAAKA,UAAU,oBACb,0DACA,yBAAKA,UAAU,sBACb,yBAAKA,UAAU,2BACb,0BAAMA,UAAU,cAAhB,iBACA,6BACE,yBAAKA,UAAU,eACb,2BACE2C,YAAY,aACZlC,GAAG,QACHtD,KAAK,OACLwD,KAAK,QACLX,UAAU,eACVqC,MAAON,EAAKF,MACZe,SAAUV,IAEZ,2BAAOW,QAAQ,SAAf,UAEF,yBAAK7C,UAAU,eACb,2BACE2C,YAAY,gBACZlC,GAAG,WACHtD,KAAK,WACLwD,KAAK,WACLX,UAAU,eACVqC,MAAON,EAAKD,SACZc,SAAUV,IAEZ,2BAAOW,QAAQ,YAAf,eAIN,yBAAK7C,UAAU,eACb,4BACEA,UAAU,sBACV8C,MAAO,CAAEC,YAAa,IACtBC,SAAUxE,EACVyC,QAASsB,GAJX,UAQA,4BACEvC,UAAU,gCACViB,QAASqB,EACTU,SAAUxE,GAHZ,uBC/CNyB,G,MAAqB,CACzBgD,OR5BK,WACL,MAAO,CACL9F,KCfkB,aO4CP+C,eATS,SAAAiB,GAAK,MAAK,CAChC1D,MAAO0D,EAAM1D,MACb2D,KAAMD,EAAMC,QAO0BnB,EAAzBC,EAvCA,SAAC,GAA6B,IAA3BzC,EAA0B,EAA1BA,MAAO2D,EAAmB,EAAnBA,KAAM6B,EAAa,EAAbA,OACvBC,EAAUC,cAQhB,OACE,yBAAKnD,UAAU,gBACb,6BACE,yBAAKA,UAAU,oCACb,0BAAMA,UAAU,cAAhB,sCACA,wBAAIS,GAAG,aAAaT,UAAU,8BAC5B,4BAAI,kBAAC,IAAD,CAASoD,GAAG,SAAZ,SACJ,4BAAI,kBAAC,IAAD,CAASA,GAAG,SAAZ,OACFhC,EAAKb,OACD,0BAAMP,UAAU,eAAeoB,EAAKb,QACpC,KAEJ9C,GAAS,4BAAI,kBAAC,IAAD,CAAS2F,GAAG,WAAZ,gBACb3F,GAAS,4BAAI,uBAAG4F,KAAK,IAAIpC,QAnBf,SAAAkB,GACpBA,EAAMmB,iBACNL,IACAC,EAAQK,KAAK,OAgBU,mBCPZC,G,YAlBM,SAAC,GAAyB,IAAvBpF,EAAsB,EAAtBA,MAAOqF,EAAe,EAAfA,SAC7B,OACE,yBAAKzD,UAAU,sBACb,yBAAKA,UAAU,+BACb,yBAAKA,UAAU,cAAcc,IAAK1C,EAAM2C,SAAUC,IAAI,KACtD,0BAAMhB,UAAU,cAAc5B,EAAMuC,MACpC,0BAAMX,UAAU,gBAAgB5B,EAAMyC,OAAtC,KACA,yBAAKb,UAAU,8BAA6B,2BAAI5B,EAAM8C,KAAV,MAC5C,yBAAKlB,UAAU,WACf,4BACEA,UAAU,uDACViB,QAASwC,GAFX,cC0EFxD,EAAqB,CACzB9B,YACAE,kBAGa6B,eAVS,SAAAiB,GAAK,MAAK,CAChCC,KAAMD,EAAMC,KACZhD,MAAO+C,EAAM/C,SAQyB6B,EAAzBC,EApFF,SAAC,GAAgD,IAA9CkB,EAA6C,EAA7CA,KAAMhD,EAAuC,EAAvCA,MAAOD,EAAgC,EAAhCA,UAAWE,EAAqB,EAArBA,eAChC6E,EAAUC,cAD2C,EAEjC5E,mBAAS,GAFwB,mBAEpDmF,EAFoD,KAE7CC,EAF6C,KAIrDC,EAAc,SAAAtC,GAClBjD,EAAeD,EAAMoD,MAAK,SAAAC,GAAI,OAAIA,EAAKf,MAAQY,MAC/CqC,EAASE,EAAiBvC,KAGtBuC,EAAmBjF,uBAAY,WAA4B,IAA3BkF,EAA0B,uDAAT,KACrD,OAAO1C,EAAK2C,QAAO,SAACC,EAAK5F,GACvB,OAAIA,EAAMsC,MAAQoD,EACTE,EAEFA,EAAM5F,EAAM8C,OAClB,KACF,CAACE,IA0BJ,OApBAf,qBAAU,WACR,IAAKe,EAAKb,OAAQ,CAChB,IAAMD,EAAe5C,KAAKC,MAAMC,aAAaC,QAAQ,iBAEjDO,EAAMmC,QAAUD,GAAgBA,EAAaC,QAC/CD,EAAae,SAAQ,SAAAC,GACnBnD,EAAUC,EAAMoD,MAAK,SAAAC,GAAI,OAAIA,EAAKf,MAAQY,YAI/C,CAACnD,EAAWiD,EAAMhD,IAErBiC,qBAAU,WACJe,EAAKb,QACO,IAAVmD,GACFC,EAASE,OAGZ,CAACzC,EAAMsC,EAAOG,IAGf,yBAAK7D,UAAU,aACXoB,EAAKb,OAGH,oCACE,oCACA,yBAAKP,UAAU,cACZoB,EAAKM,KAAI,SAAAtD,GAAK,OACb,kBAAC,EAAD,CACEA,MAAOA,EACPwD,IAAKxD,EAAMsC,IACX+C,SAAU,kBAAMG,EAAYxF,EAAMsC,YAIxC,yBAAKV,UAAU,OACb,yBAAKA,UAAU,WACf,uCAAa0D,EAAQ,GACrB,6CACA,4BACE1D,UAAU,yDACViB,QA9CI,WAChBiC,EAAQK,KAAK,iBA2CH,gBAjBJ,sD,gCC0EKU,G,wDA1Hb,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IAiBRC,kBAAoB,SAAAhC,GAClB,EAAKiC,SAAL,eACGjC,EAAMC,OAAOzB,KAAOwB,EAAMC,OAAOC,SApBnB,EAwBnBgC,aAAe,WACb,EAAKH,MAAMI,WAAW,EAAKnD,QAtB3B,EAAKA,MAAQ,CACXoD,QAAS,GACTC,SAAU,GACVC,KAAM,GACNC,OAAQ,GACRC,SAAU,GACVC,KAAM,GACNC,KAAM,IAVS,E,gEAejBlF,OAAOC,EAAEqC,qB,+BAcT,OACE,yBAAKjC,UAAU,gBACb,2EACA,yBAAKA,UAAU,OACb,yBAAKA,UAAU,6BACb,2BACE2C,YAAY,UACZlC,GAAG,UACHtD,KAAK,OACL6C,UAAU,WACVW,KAAK,UACLiC,SAAUkC,KAAKX,oBAEjB,2BAAOtB,QAAQ,WAAf,YAEF,yBAAK7C,UAAU,8BACb,2BACE2C,YAAY,WACZlC,GAAG,WACHtD,KAAK,OACL6C,UAAU,WACVW,KAAK,WACLiC,SAAUkC,KAAKX,oBAEjB,2BAAOtB,QAAQ,YAAf,cAGJ,yBAAK7C,UAAU,OACb,yBAAKA,UAAU,0BACb,2BACE2C,YAAY,OACZlC,GAAG,OACHtD,KAAK,OACL6C,UAAU,WACV4C,SAAUkC,KAAKX,kBACfxD,KAAK,SACP,2BAAOkC,QAAQ,QAAf,UAGJ,yBAAK7C,UAAU,OACb,yBAAKA,UAAU,4BACb,2BACE2C,YAAY,SACZlC,GAAG,SACHtD,KAAK,OACL6C,UAAU,WACV4C,SAAUkC,KAAKX,kBACfxD,KAAK,WACP,2BAAOkC,QAAQ,UAAf,YAGJ,yBAAK7C,UAAU,OACb,yBAAKA,UAAU,8BACb,2BACE2C,YAAY,WACZlC,GAAG,WACHtD,KAAK,OACL6C,UAAU,WACV4C,SAAUkC,KAAKX,kBACfxD,KAAK,aACP,2BAAOkC,QAAQ,YAAf,aAEF,yBAAK7C,UAAU,0BACb,2BACE2C,YAAY,OACZlC,GAAG,OACHtD,KAAK,OACL6C,UAAU,WACV4C,SAAUkC,KAAKX,kBACfxD,KAAK,SACP,2BAAOkC,QAAQ,QAAf,SAEF,yBAAK7C,UAAU,0BACb,2BACE2C,YAAY,OACZlC,GAAG,OACHtD,KAAK,OACL6C,UAAU,WACV4C,SAAUkC,KAAKX,kBACfxD,KAAK,SACP,2BAAOkC,QAAQ,QAAf,SAEF,yBAAK7C,UAAU,YAEjB,4BACEA,UAAU,yDACViB,QAAS6D,KAAKT,cAFhB,eAGcS,KAAKZ,MAAMR,MAHzB,W,GAlHcqB,IAAMC,YCwCbC,G,MArCF,SAAC,GAAsC,IAApCvB,EAAmC,EAAnCA,MAAOwB,EAA4B,EAA5BA,QAASC,EAAmB,EAAnBA,aACxBjC,EAAUC,cACV5F,EAAW6H,cAOjB,OACE,yBAAKpF,UAAU,QACb,6EACA,0DACA,kDACA,yBAAKA,UAAU,gBACb,wCACA,yBAAKA,UAAU,WACZkF,GAEH,8CACA,yBAAKlF,UAAU,iBACZmF,EAAazD,KAAI,SAAAtD,GAChB,OAAO,0BAAM4B,UAAU,YAAY4B,IAAKxD,EAAMsC,KAAvC,UACEtC,EAAMuC,KADR,aACwBvC,EAAMyC,OAD9B,WAC8CzC,EAAM8C,UAI/D,sCAAYwC,EAAZ,MAEF,4BACE1D,UAAU,2DACViB,QA3Bc,WAClBiC,EAAQK,KAAK,SACbhG,EZyCK,CACLJ,KCjDsB,kBW8BpB,wBCwBS+C,eANS,SAAAiB,GAAK,MAAK,CAChCC,KAAMD,EAAMC,KACZ3D,MAAO0D,EAAM1D,MACbgF,OAAQtB,EAAMsB,UAGDvC,EArDG,SAAC,GAA6B,IAA3BkB,EAA0B,EAA1BA,KAAMqB,EAAoB,EAApBA,OAAQhF,EAAY,EAAZA,MAC3B4H,EAAYjE,EACV9D,EAAYgB,IAAZhB,QAFqC,EAGTiB,oBAAS,GAHA,mBAGtC+G,EAHsC,KAG1BC,EAH0B,OAIfhH,mBAAS,MAJM,mBAItC2G,EAJsC,KAI7BZ,EAJ6B,KAOvCZ,EAAQtC,EAAK2C,QAAO,SAACC,EAAK5F,GAC9B,OAAO4F,EAAM5F,EAAM8C,OAClB,GAEGsE,EAAe,uCAAG,WAAMC,GAAN,iBAAAjI,EAAA,yDAChBkI,GAAmBD,EAAclB,QAAUkB,EAAclB,QAAU,KAAM,KAC5EkB,EAAcjB,SAAWiB,EAAcjB,SAAW,cAAe,KACjEiB,EAAchB,KAAOgB,EAAchB,KAAO,KAAM,KAChDgB,EAAcf,OAASe,EAAcf,OAAS,QAAS,KACvDe,EAAcd,SAAWc,EAAcd,SAAW,cAAe,KACjEc,EAAcb,KAAOa,EAAcb,KAAO,UAAW,KACrDa,EAAcZ,KAAOY,EAAcZ,KAAO,QAAS,IACtDU,GAAc,GACdjB,EAAWoB,IAEPjI,EAXkB,uBAYdkI,EAAY,CAChBT,QAASQ,EACThC,QACAjB,SACAmD,MAAO,KAGCA,MAAQxE,EAAKM,KAAI,SAAAC,GACzB,OAAOA,EAAUjB,OApBC,SAuBdpD,EAAQ,mBAAoB,OAArB,eACRqI,IAxBe,2CAAH,sDA6BrB,OAAKL,EAIE,kBAAC,EAAD,CAAMJ,QAASA,EAASC,aAAcE,EAAW3B,MAAOA,IAHtD,kBAAC,EAAD,CAASA,MAAOA,EAAOY,WAAYkB,OCnB/BtF,G,YAAAA,aALS,SAAAiB,GAAK,MAAK,CAChC/C,MAAO+C,EAAM/C,SAIA8B,EAxBE,SAAC,GAAsB,IAApB0F,EAAmB,EAAnBA,MAAOxH,EAAY,EAAZA,MACzB,OACE,yBAAK4B,UAAU,aACb,0CAAgB4F,EAAMV,SACtB,wCAAcU,EAAMlC,MAApB,KACA,sCACCkC,EAAMA,MAAMlE,KAAI,SAAAJ,GACf,IAAMuE,EAAezH,EAAMoD,MAAK,SAAAC,GAAI,OAAIA,EAAKf,MAAQY,KACrD,OAAO,yBAAKtB,UAAU,YAAY4B,IAAKN,GACrC,yBAAKR,IAAK+E,EAAa9E,SAAUC,IAAI,KACrC,0BAAMhB,UAAU,cAAc6F,EAAalF,MAC3C,0BAAMX,UAAU,gBAAgB6F,EAAahF,OAA7C,KACA,0BAAMb,UAAU,8BAA8B6F,EAAa3E,KAA3D,cCsCKhB,eATS,SAAAiB,GAAK,MAAK,CAChCsB,OAAQtB,EAAMsB,OACdrE,MAAO+C,EAAM/C,SAOA8B,EA9CA,SAAC,GAAoC,IAAlCuC,EAAiC,EAAjCA,OAAQrE,EAAyB,EAAzBA,MAAOf,EAAkB,EAAlBA,YAAkB,EACrBkB,mBAAS,IADY,mBAC1CuH,EAD0C,KAClCC,EADkC,KAE1CzI,EAAWgB,IAAXhB,QACDC,EAAW6H,cAoBjB,OAlBA/E,qBAAU,WAAM,4CACd,4BAAA7C,EAAA,sEAC8BF,EAAQ,qBAAsB,OAAQ,CAChEmF,WAFJ,OACQuD,EADR,OAKOF,EAAOvF,QACVwF,EAAUC,GANd,4CADc,sBAWT5H,EAAMmC,QACThD,EAASF,EAAYC,IAZR,WAAD,wBAed2I,KACC,IAEEH,EAAOvF,OAKV,yBAAKP,UAAU,eACb,2CACC8F,EAAOpE,KAAI,SAAAkE,GACV,OAAO,kBAAC,EAAD,CAAUA,MAAOA,EAAOhE,IAAKgE,EAAMlF,UAPvC,kBAAC,EAAD,SCeLT,EAAqB,CACzBhD,SAGaiD,eAXS,SAAAiB,GACtB,MAAO,CACL1D,MAAO0D,EAAM1D,MACbW,MAAO+C,EAAM/C,SAQuB6B,EAAzBC,EAzCH,SAAC,GAA6B,IAA3BzC,EAA0B,EAA1BA,MAAOW,EAAmB,EAAnBA,MAAOnB,EAAY,EAAZA,MACrBC,EAAOQ,KAAKC,MAAMC,aAAaC,QAAQ,aAEzCX,GAAQA,EAAKO,OACfR,EAAM,CAACQ,MAAOP,EAAKO,MAAOgF,OAAQvF,EAAKuF,SAGzC,IAAMlF,EAAW6H,cACV9H,EAAWgB,IAAXhB,QAEP+C,qBAAU,WACR9C,EAASF,EAAYC,MACpB,CAACC,EAAUD,IAEd,IACM4I,EChBiB,SAAAC,GACvB,OAAIA,EAEA,oCACE,kBAAC,EAAD,MACA,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOC,KAAK,QAAQC,OAAK,GACvB,kBAAC,EAAD,OAEF,kBAAC,IAAD,CAAOD,KAAK,SACV,kBAAC,EAAD,OAEF,kBAAC,IAAD,CAAOA,KAAK,eACV,kBAAC,EAAD,OAEF,kBAAC,IAAD,CAAOA,KAAK,WACV,kBAAC,EAAD,OAEF,kBAAC,IAAD,CAAUhD,GAAG,YAOnB,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOgD,KAAK,IAAIC,OAAK,GACnB,kBAAC,EAAD,OAEF,kBAAC,IAAD,CAAUjD,GAAG,ODbFkD,GADW7I,KAAWP,EAAKO,OAG1C,OAAKW,EAAMmC,OAKT,kBAAC,IAAD,KACE,6BACG2F,IANE,kBAAC,EAAD,SEhBSK,QACW,cAA7B5G,OAAO6G,SAASC,UAEe,UAA7B9G,OAAO6G,SAASC,UAEhB9G,OAAO6G,SAASC,SAASC,MACvB,2D,oBCZAC,EAAe,CACnBlJ,MAAO,KACPgF,OAAQ,KACRrE,MAAO,GACPgD,KAAM,I,QCAFwF,EAAQC,aDGa,WAAmC,IAAlC1F,EAAiC,uDAAzBwF,EAAcG,EAAW,uCAC3D,OAAQA,EAAO3J,MACb,IlBfiB,QkBgBf,OAAO,2BACFgE,GADL,IAEE1D,MAAOqJ,EAAO1J,QAAQK,MACtBgF,OAAQqE,EAAO1J,QAAQqF,SAE3B,IlBpBkB,SkBsBhB,OADA7E,aAAamJ,WAAW,YACjB,2BACF5F,GADL,IAEE1D,MAAO,KACPgF,OAAQ,OAEZ,IlB1BgC,uBkB2B9B,OAAO,2BACFtB,GADL,IAEE/C,MAAO0I,EAAO1J,UAElB,IlB9BuB,ckB+BrB,IAAM4J,EAAe,sBAAO7F,EAAMC,MAAb,CAAmB0F,EAAO1J,UAE/C,OADAQ,aAAa8E,QAAQ,eAAgBhF,KAAKuB,UAAU+H,EAAgBtF,KAAI,SAAAD,GAAI,OAAIA,EAAKf,SAC9E,2BACFS,GADL,IAEEC,KAAM4F,IAEV,IlBpC4B,mBkBqC1B,IAAMC,EAAmB9F,EAAMC,KAAK8F,QAAO,SAAAzF,GAAI,OAAIA,EAAKf,MAAQoG,EAAO1J,QAAQsD,OAE/E,OADA9C,aAAa8E,QAAQ,eAAgBhF,KAAKuB,UAAUgI,EAAiBvF,KAAI,SAAAD,GAAI,OAAIA,EAAKf,SAC/E,2BACFS,GADL,IAEEC,KAAM6F,IAEV,IlB1CsB,ckB4CpB,OADArJ,aAAamJ,WAAW,gBACjB,2BACF5F,GADL,IAEEC,KAAM,KAEV,QACE,OAAOD,KC5C0BgG,YACrCC,YAAgBC,KAChB1H,OAAO2H,6BACH3H,OAAO2H,+BACP,SAAAC,GAAC,OAAIA,KAGLC,EACJ,kBAAC,IAAD,CAAUZ,MAAOA,GACf,kBAAC,EAAD,OAIJa,iBAAOD,EAAKE,SAASC,eAAe,SF4G9B,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBC,MAAK,SAAAC,GACJA,EAAaC,gBAEdC,OAAM,SAAAxJ,GACLT,QAAQS,MAAMA,EAAMa,c","file":"static/js/main.3ef8310a.chunk.js","sourcesContent":["import {\n  ADD_TO_CART, CLEAR_CART,\n  GET_ALL_PIZZA_LOADED,\n  LOGIN, LOGOUT, REMOVE_FROM_CART,\n} from \"./types\";\n\n\nexport function login(data) {\n  return {\n    type: LOGIN,\n    payload: data\n  }\n}\n\nexport function logout() {\n  return {\n    type: LOGOUT\n  }\n}\n\nexport function getAllPizza(request) {\n  return async dispatch => {\n    try {\n      const token = JSON.parse(localStorage.getItem('userData')).token\n\n      setTimeout(async () => {\n        const data = await request('/api/menu/getAllPizza', 'GET', null, {\n          Authorization: 'Bearer ' + token\n        })\n\n        dispatch({ type: GET_ALL_PIZZA_LOADED, payload: data })\n      }, 2000)\n    } catch (e) {\n      console.log(e)\n    }\n  }\n}\n\nexport function addToCart(pizza) {\n  return {\n    type: ADD_TO_CART,\n    payload: pizza\n  }\n}\n\nexport function removeFromCart(pizza) {\n  return {\n    type: REMOVE_FROM_CART,\n    payload: pizza\n  }\n}\n\nexport function clearCart() {\n  return {\n    type: CLEAR_CART\n  }\n}\n\n","export const LOGIN = 'LOGIN'\nexport const LOGOUT = 'LOGOUT'\nexport const GET_ALL_PIZZA_LOADED = 'GET/PIZZA/ALL_LOADED'\nexport const ADD_TO_CART = 'ADD/TO_CART'\nexport const REMOVE_FROM_CART = 'REMOVE/FROM_CART'\nexport const CLEAR_CART = 'REMOVE/CART'\n","import {useState, useCallback} from 'react'\n\nexport const useHttp = () => {\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState(null)\n\n  const request = useCallback(async (url, method = 'GET', body = null, headers = {}) => {\n    setLoading(true)\n    try {\n      if (body) {\n        body = JSON.stringify(body)\n        headers['Content-Type'] = 'application/json'\n      }\n\n      const response = await fetch(url, {method, body, headers})\n      const data = await response.json();\n\n      if (!response.ok) {\n        throw new Error(data.message || 'Something goes wrong')\n      }\n\n      setLoading(false)\n\n      return data\n    } catch (e) {\n      setLoading(false)\n      setError(e.message)\n      throw e\n    }\n  }, [])\n\n  const clearError = useCallback(() => setError(null), [])\n\n  return { loading, request, error, clearError }\n}\n","import {useCallback} from 'react'\n\nexport const useMessage = () => {\n  return useCallback(text => {\n    if (window.M && text) {\n      window.M.toast({ html: text })\n    }\n  }, [])\n}\n","import React from \"react\";\nimport './Loader.scss'\n\nexport const Loader = () => {\n  return (\n    <div className=\"circle-loader-red\">\n      <div className=\"preloader-wrapper active\">\n        <div className=\"spinner-layer spinner-red-only\">\n          <div className=\"circle-clipper left\">\n            <div className=\"circle\" />\n          </div>\n          <div className=\"gap-patch\">\n            <div className=\"circle\" />\n          </div>\n          <div className=\"circle-clipper right\">\n            <div className=\"circle\" />\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React, {useEffect, useState} from \"react\"\nimport './PizzaCard.scss'\nimport {connect} from \"react-redux\";\nimport {addToCart, removeFromCart} from \"../../redux/actions\";\n\nconst PizzaCard = ({ pizza, addToCart, removeFromCart }) => {\n  const [isAdded, setIsAdded] = useState(false)\n\n  const onAddClickHandler = () => {\n    if (isAdded) {\n      removeFromCart(pizza)\n    } else {\n      addToCart(pizza)\n    }\n    setIsAdded(!isAdded)\n  }\n\n  useEffect(() => {\n    const cartPizzaIds = JSON.parse(localStorage.getItem('cartPizzaIds'))\n\n    if (cartPizzaIds && cartPizzaIds.length) {\n      if (cartPizzaIds.findIndex(id => id === pizza._id) !== -1) {\n        setIsAdded(true)\n      }\n    }\n  }, [pizza, addToCart])\n\n  return (\n    <div className=\"pizza-box z-depth-1\">\n      <div className=\"row\">\n        <div className=\"left-part\">\n          <span className=\"pizza-title\">{pizza.name}</span>\n          <span className=\"pizza-description\">{pizza.description}</span>\n          <span className=\"pizza-weight\">{pizza.weight}g</span>\n        </div>\n        <div className=\"right-part\">\n          <div className=\"pizza-image\">\n            <img  src={pizza.photoUrl} alt=\"\" />\n          </div>\n          <button\n            className={`waves-effect waves-light btn add-to-cart-btn \n              ${isAdded ? 'light-green darken-1' : 'purple darken-4'}`\n            }\n            onClick={onAddClickHandler}\n          >\n          {\n            isAdded\n            ? <>added</>\n            : <>add to cart: +<b>{pizza.cost}$</b></>\n          }\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nconst mapDispatchToProps = {\n  addToCart,\n  removeFromCart\n}\n\nexport default connect(null, mapDispatchToProps)(PizzaCard)\n","import React, {useEffect} from \"react\";\nimport {addToCart} from \"../../redux/actions\";\nimport {connect} from \"react-redux\";\nimport {useHttp} from \"../../hooks/http.hook\";\nimport {useMessage} from \"../../hooks/message.hook\";\nimport {Loader} from \"../../components/loader/Loader\";\nimport './MenuPage.scss'\nimport PizzaCard from \"../../components/pizza-card/PizzaCard\";\n\nconst MenuPage = ({ pizza, addToCart, cart }) => {\n  const {error, clearError} = useHttp()\n  const message = useMessage()\n\n  useEffect(() => {\n    message(error)\n    clearError()\n  }, [error, message, clearError])\n\n  useEffect(() => {\n    const cartPizzaIds = JSON.parse(localStorage.getItem('cartPizzaIds'))\n\n    if (pizza.length && cartPizzaIds && cartPizzaIds.length) {\n      cartPizzaIds.forEach(pizzaId => {\n        const pizzaObject = pizza.find(item => item._id === pizzaId)\n        if (pizzaObject && cart.findIndex(item => item._id === pizzaObject._id) === -1) {\n          addToCart(pizzaObject)\n        }\n      })\n    }\n  }, [pizza, cart, addToCart])\n\n\n  if (!pizza.length) {\n    return <Loader />\n  }\n\n  return (\n    <div className=\"pizza-menu-window\">\n      <h2>Pizza Catalog</h2>\n      <div className=\"pizza-catalog\">\n        {pizza.map(pizzaItem => <PizzaCard key={pizzaItem._id} pizza={pizzaItem} /> )}\n      </div>\n    </div>\n  )\n}\n\nconst mapStateToProps = state => ({\n  pizza: state.pizza,\n  cart: state.cart\n})\n\nconst mapDispatchToProps = {\n  addToCart\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MenuPage)\n","import React, {useEffect, useState} from 'react'\nimport {useHttp} from \"../../hooks/http.hook\";\nimport {useMessage} from \"../../hooks/message.hook\";\nimport {login} from \"../../redux/actions\";\nimport {connect} from \"react-redux\";\n\nconst AuthPage = ({ login }) => {\n  const {loading, request, error, clearError} = useHttp()\n  const message = useMessage()\n  const [form, setForm] = useState({\n    email: '',\n    password: ''\n  })\n\n  useEffect(() => {\n    message(error)\n    clearError()\n  }, [error, message, clearError])\n\n  useEffect(() => {\n    window.M.updateTextFields()\n  }, [])\n\n  const changeHandler = event => {\n    setForm({ ...form, [event.target.name]: event.target.value })\n  }\n\n  const registerHandler = async () => {\n    try {\n      const data = await request('/api/auth/register', 'POST', {...form})\n      message(data.message)\n    } catch (e) {\n    }\n  }\n\n  const loginHandler = async () => {\n    try {\n      const data = await request('/api/auth/login', 'POST', {...form})\n      const userObject = {token: data.token, userId: data.userId}\n      login(userObject)\n      localStorage.setItem('userData', JSON.stringify(userObject))\n    } catch (e) {\n    }\n  }\n\n  return (\n    <div className=\"row\">\n      <div className=\"col s6 offset-s3\">\n        <h1>Innoscripta Pizza Delivery</h1>\n        <div className=\"card blue darken-1\">\n          <div className=\"card-content white-text\">\n            <span className=\"card-title\">Authorization</span>\n            <div>\n              <div className=\"input-field\">\n                <input\n                  placeholder=\"Type Email\"\n                  id=\"email\"\n                  type=\"text\"\n                  name=\"email\"\n                  className=\"yellow-input\"\n                  value={form.email}\n                  onChange={changeHandler}\n                />\n                <label htmlFor=\"email\">Email</label>\n              </div>\n              <div className=\"input-field\">\n                <input\n                  placeholder=\"Type password\"\n                  id=\"password\"\n                  type=\"password\"\n                  name=\"password\"\n                  className=\"yellow-input\"\n                  value={form.password}\n                  onChange={changeHandler}\n                />\n                <label htmlFor=\"password\">Password</label>\n              </div>\n            </div>\n          </div>\n          <div className=\"card-action\">\n            <button\n              className=\"btn yellow darken-4\"\n              style={{ marginRight: 10 }}\n              disabled={loading}\n              onClick={loginHandler}\n            >\n              Log In\n            </button>\n            <button\n              className=\"btn grey lighten-1 black-text\"\n              onClick={registerHandler}\n              disabled={loading}\n            >\n              Registration\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nconst mapDispatchToProps = {\n  login\n}\n\nexport default connect(null, mapDispatchToProps)(AuthPage)\n","import React from \"react\";\nimport {NavLink, useHistory} from 'react-router-dom'\nimport {connect} from \"react-redux\";\nimport {logout} from \"../../redux/actions\";\nimport './Navbar.scss'\n\nconst Navbar = ({ token, cart, logout }) => {\n  const history = useHistory()\n\n  const logoutHandler = event => {\n    event.preventDefault()\n    logout()\n    history.push('/')\n  }\n\n  return (\n    <div className=\"navbar-fixed\">\n      <nav>\n        <div className=\"nav-wrapper deep-purple accent-1\">\n          <span className=\"brand-logo\">Innoscripta Pizza Delivery Service</span>\n          <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\n            <li><NavLink to=\"/menu\">Menu</NavLink></li>\n            <li><NavLink to=\"/cart\">Cart{\n              cart.length\n                ? <span className=\"order-count\">{cart.length}</span>\n                : ''\n            }</NavLink></li>\n            { token && <li><NavLink to=\"/orders\">Your Orders</NavLink></li> }\n            { token && <li><a href=\"/\" onClick={logoutHandler}>Log Out</a></li> }\n          </ul>\n        </div>\n      </nav>\n    </div>\n  )\n}\n\nconst mapStateToProps = state => ({\n  token: state.token,\n  cart: state.cart\n})\n\nconst mapDispatchToProps = {\n  logout\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Navbar)\n","import React from \"react\";\nimport './PizzaCartRow.scss'\n\nconst PizzaCartRow = ({ pizza, onDelete }) => {\n  return (\n    <div className=\"row pizza-cart-row\">\n      <div className=\"pizza-description z-depth-1\">\n        <img className=\"pizza-image\" src={pizza.photoUrl} alt=\"\" />\n        <span className=\"pizza-name\">{pizza.name}</span>\n        <span className=\"pizza-weight\">{pizza.weight}g</span>\n        <div className=\"pizza-cost purple darken-4\"><b>{pizza.cost}$</b></div>\n        <div className=\"spacer\"/>\n        <button\n          className=\"waves-effect waves-light red darken-1 delete-btn btn\"\n          onClick={onDelete}\n        >delete</button>\n      </div>\n    </div>\n  )\n}\n\nexport default PizzaCartRow\n","import React, {useCallback, useEffect, useState} from \"react\";\nimport {connect} from \"react-redux\";\nimport {useHistory} from 'react-router-dom'\nimport './Cart.scss'\nimport {addToCart, removeFromCart} from \"../../redux/actions\";\nimport PizzaCartRow from \"../../components/pizza-cart-row/PizzaCartRow\";\n\nconst Cart = ({ cart, pizza, addToCart, removeFromCart }) => {\n  const history = useHistory()\n  const [total, setTotal] = useState(0)\n\n  const deletePizza = pizzaId => {\n    removeFromCart(pizza.find(item => item._id === pizzaId))\n    setTotal(recalculateTotal(pizzaId))\n  }\n\n  const recalculateTotal = useCallback((withoutPizzaId = null) => {\n    return cart.reduce((sum, pizza) => {\n      if (pizza._id === withoutPizzaId) {\n        return sum\n      }\n      return sum + pizza.cost\n    }, 0)\n  }, [cart])\n\n  const makeOrder = () => {\n    history.push('/make-order')\n  }\n\n  useEffect(() => {\n    if (!cart.length) {\n      const cartPizzaIds = JSON.parse(localStorage.getItem('cartPizzaIds'))\n\n      if (pizza.length && cartPizzaIds && cartPizzaIds.length) {\n        cartPizzaIds.forEach(pizzaId => {\n          addToCart(pizza.find(item => item._id === pizzaId))\n        })\n      }\n    }\n  }, [addToCart, cart, pizza])\n\n  useEffect(() => {\n    if (cart.length) {\n      if (total === 0) {\n        setTotal(recalculateTotal())\n      }\n    }\n  }, [cart, total, recalculateTotal])\n\n  return (\n    <div className=\"cart-page\">\n      {!cart.length\n        ? <h2>Your cart is empty</h2>\n        : (\n          <>\n            <h2>Cart</h2>\n            <div className=\"cart-table\">\n              {cart.map(pizza =>\n                <PizzaCartRow\n                  pizza={pizza}\n                  key={pizza._id}\n                  onDelete={() => deletePizza(pizza._id)}\n                />\n              )}\n            </div>\n            <div className=\"row\">\n              <div className=\"spacer\" />\n              <h3>Total: ${total + 3}</h3>\n              <h6>(3$ Delivery)</h6>\n              <button\n                className=\"waves-effect waves-light purple darken-4 order-btn btn\"\n                onClick={makeOrder}\n              >make order</button>\n            </div>\n          </>\n        )}\n\n    </div>\n  )\n}\n\nconst mapStateToProps = state => ({\n  cart: state.cart,\n  pizza: state.pizza\n})\n\nconst mapDispatchToProps = {\n  addToCart,\n  removeFromCart\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Cart)\n","import React from \"react\";\nimport './Address.scss'\n\nclass Address extends React.Component {\n  constructor(props) {\n    super(props);\n    \n    this.state = {\n      country: '',\n      district: '',\n      city: '',\n      street: '',\n      building: '',\n      flat: '',\n      room: ''\n    }\n  }\n\n  componentDidMount() {\n    window.M.updateTextFields()\n  }\n\n  handleFieldChange = event => {\n    this.setState({\n      [event.target.name]: event.target.value\n    })\n  }\n\n  proceedOrder = () => {\n    this.props.setAddress(this.state)\n  }\n\n  render() {\n    return (\n      <div className=\"address-edit\">\n        <h2>Please, fill in the shipping address fields</h2>\n        <div className=\"row\">\n          <div className=\"country-field input-field\">\n            <input\n              placeholder=\"Country\"\n              id=\"country\"\n              type=\"text\"\n              className=\"validate\"\n              name=\"country\"\n              onChange={this.handleFieldChange}\n            />\n            <label htmlFor=\"country\">Country</label>\n          </div>\n          <div className=\"district-field input-field\">\n            <input\n              placeholder=\"District\"\n              id=\"district\"\n              type=\"text\"\n              className=\"validate\"\n              name=\"district\"\n              onChange={this.handleFieldChange}\n            />\n            <label htmlFor=\"district\">District</label>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"city-field input-field\">\n            <input\n              placeholder=\"City\"\n              id=\"city\"\n              type=\"text\"\n              className=\"validate\"\n              onChange={this.handleFieldChange}\n              name=\"city\" />\n            <label htmlFor=\"city\">City</label>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"street-field input-field\">\n            <input\n              placeholder=\"Street\"\n              id=\"street\"\n              type=\"text\"\n              className=\"validate\"\n              onChange={this.handleFieldChange}\n              name=\"street\" />\n            <label htmlFor=\"street\">Street</label>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"building-field input-field\">\n            <input\n              placeholder=\"Building\"\n              id=\"building\"\n              type=\"text\"\n              className=\"validate\"\n              onChange={this.handleFieldChange}\n              name=\"building\" />\n            <label htmlFor=\"building\">Building</label>\n          </div>\n          <div className=\"flat-field input-field\">\n            <input\n              placeholder=\"Flat\"\n              id=\"flat\"\n              type=\"text\"\n              className=\"validate\"\n              onChange={this.handleFieldChange}\n              name=\"flat\" />\n            <label htmlFor=\"flat\">flat</label>\n          </div>\n          <div className=\"room-field input-field\">\n            <input\n              placeholder=\"Room\"\n              id=\"room\"\n              type=\"text\"\n              className=\"validate\"\n              onChange={this.handleFieldChange}\n              name=\"room\" />\n            <label htmlFor=\"room\">Room</label>\n          </div>\n          <div className=\"spacer\" />\n        </div>\n        <button\n          className=\"waves-effect waves-light purple darken-4 order-btn btn\"\n          onClick={this.proceedOrder}\n        >make order ({this.props.total}$)</button>\n      </div>\n    )\n  }\n}\n\nexport default Address\n","import React from \"react\";\nimport {useHistory} from 'react-router-dom'\nimport './Bill.scss'\nimport {useDispatch} from \"react-redux\";\nimport {clearCart} from \"../../redux/actions\";\n\nconst Bill = ({ total, address, pizzaDetails }) => {\n  const history = useHistory()\n  const dispatch = useDispatch();\n\n  const goToCatalog = () => {\n    history.push('/menu')\n    dispatch(clearCart())\n  }\n\n  return (\n    <div className=\"bill\">\n      <h2>Your order has been moved to delivery service</h2>\n      <h3>Thank you for choosing us!</h3>\n      <h5>Here is your bill:</h5>\n      <div className=\"bill-details\">\n        <h6>Address:</h6>\n        <div className=\"address\">\n          {address}\n        </div>\n        <h6>Pizza details:</h6>\n        <div className=\"pizza-details\">\n          {pizzaDetails.map(pizza => {\n            return <span className=\"pizza-row\" key={pizza._id}\n            >pizza: {pizza.name}, weight: {pizza.weight}, cost: {pizza.cost}\n            </span>\n          })}\n        </div>\n        <h5>Total: {total}$</h5>\n      </div>\n      <button\n        className=\"waves-effect waves-light purple darken-4 catalog-btn btn\"\n        onClick={goToCatalog}\n      >return to catalog</button>\n    </div>\n  )\n}\n\nexport default Bill\n","import React, {useState} from \"react\";\nimport {connect} from \"react-redux\";\nimport Address from \"../../components/address/Address\";\nimport Bill from \"../../components/bill/Bill\";\nimport {useHttp} from \"../../hooks/http.hook\";\n\nconst MakeOrder = ({ cart, userId, token }) => {\n  const savedCart = cart;\n  const { request } = useHttp();\n  const [isComplete, setIsComplete] = useState(false)\n  const [address, setAddress] = useState(null)\n\n\n  const total = cart.reduce((sum, pizza) => {\n    return sum + pizza.cost\n  }, 0)\n\n  const onAddressFilled = async addressObject => {\n    const addressStr = '' + (addressObject.country ? addressObject.country + ', ': '') +\n      (addressObject.district ? addressObject.district + ' district, ': '') +\n      (addressObject.city ? addressObject.city + ', ': '') +\n      (addressObject.street ? addressObject.street + ' st, ': '') +\n      (addressObject.building ? addressObject.building + ' building, ': '') +\n      (addressObject.flat ? addressObject.flat + ' flat, ': '') +\n      (addressObject.room ? addressObject.room + ' room': '')\n    setIsComplete(true)\n    setAddress(addressStr)\n\n    if (token) {\n      const orderData = {\n        address: addressStr,\n        total,\n        userId,\n        order: []\n      }\n\n      orderData.order = cart.map(pizzaItem => {\n        return pizzaItem._id\n      })\n\n      await request('/api/orders/save', 'POST', {\n        ...orderData\n      })\n    }\n  }\n\n  if (!isComplete) {\n    return <Address total={total} setAddress={onAddressFilled}/>\n  }\n\n  return <Bill address={address} pizzaDetails={savedCart} total={total}/>\n}\n\nconst mapStateToProps = state => ({\n  cart: state.cart,\n  token: state.token,\n  userId: state.userId\n})\n\nexport default connect(mapStateToProps)(MakeOrder)\n","import React from \"react\";\nimport './OrderBox.scss'\nimport {connect} from \"react-redux\";\n\nconst OrderBox = ({ order, pizza }) => {\n  return (\n    <div className=\"order-box\">\n      <span>Address: {order.address}</span>\n      <span>Total: {order.total}$</span>\n      <h6>Pizza:</h6>\n      {order.order.map(pizzaId => {\n        const currentPizza = pizza.find(item => item._id === pizzaId)\n        return <div className=\"pizza-row\" key={pizzaId}>\n          <img src={currentPizza.photoUrl} alt=\"\"/>\n          <span className=\"pizza-name\">{currentPizza.name}</span>\n          <span className=\"pizza-weight\">{currentPizza.weight}g</span>\n          <span className=\"pizza-cost purple darken-4\">{currentPizza.cost}$</span>\n        </div>\n      })}\n    </div>\n  )\n}\n\nconst mapStateToProps = state => ({\n  pizza: state.pizza\n})\n\n\nexport default connect(mapStateToProps)(OrderBox)\n","import React, {useEffect, useState} from \"react\";\nimport './Orders.scss'\nimport {connect, useDispatch} from \"react-redux\";\nimport {useHttp} from \"../../hooks/http.hook\";\nimport {Loader} from \"../../components/loader/Loader\";\nimport OrderBox from \"../../components/order-box/OrderBox\";\nimport {getAllPizza} from \"../../redux/actions\";\n\nconst Orders = ({ userId, pizza, getAllPizza }) => {\n  const [orders, setOrders] = useState([])\n  const {request} = useHttp()\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    async function fetchOrders() {\n      const fetchedOrders = await request('/api/orders/getAll', 'POST', {\n        userId\n      })\n\n      if (!orders.length) {\n        setOrders(fetchedOrders)\n      }\n    }\n\n    if (!pizza.length) {\n      dispatch(getAllPizza(request))\n    }\n\n    fetchOrders()\n  }, [])\n\n  if (!orders.length) {\n    return <Loader />\n  }\n\n  return (\n    <div className=\"orders-area\">\n      <h3>Your orders</h3>\n      {orders.map(order => {\n        return <OrderBox order={order} key={order._id} />\n      })}\n    </div>\n  )\n}\n\nconst mapStateToProps = state => ({\n  userId: state.userId,\n  pizza: state.pizza\n})\n\nconst mapDispatchToProps = {\n  getAllPizza\n}\n\nexport default connect(mapStateToProps)(Orders)\n","import React, {useEffect} from 'react';\nimport {BrowserRouter as Router} from 'react-router-dom'\nimport './App.css';\nimport 'materialize-css'\nimport {useRoutes} from \"./routes\";\nimport {connect, useDispatch} from \"react-redux\";\nimport {getAllPizza, login} from \"./redux/actions\";\nimport {useHttp} from \"./hooks/http.hook\";\nimport {Loader} from \"./components/loader/Loader\";\n\nconst App = ({ token, pizza, login }) => {\n  const data = JSON.parse(localStorage.getItem('userData'))\n\n  if (data && data.token) {\n    login({token: data.token, userId: data.userId})\n  }\n\n  const dispatch = useDispatch()\n  const {request} = useHttp()\n\n  useEffect(() => {\n    dispatch(getAllPizza(request))\n  }, [dispatch, request])\n\n  const isAuthenticated = !!token || !!data.token\n  const routes = useRoutes(isAuthenticated);\n\n  if (!pizza.length) {\n    return <Loader />\n  }\n\n  return (\n    <Router>\n      <div>\n        {routes}\n      </div>\n    </Router>\n  );\n}\n\nconst mapStateToProps = state => {\n  return {\n    token: state.token,\n    pizza: state.pizza\n  }\n}\n\nconst mapDispatchToProps = {\n  login\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App)\n","import React from \"react\";\nimport {Switch, Route, Redirect} from 'react-router-dom';\nimport MenuPage from \"./pages/menu/MenuPage\";\nimport AuthPage from \"./pages/auth/AuthPage\";\nimport Navbar from \"./components/navbar/Navbar\";\nimport Cart from \"./pages/cart/Cart\";\nimport MakeOrder from \"./pages/make-order/MakeOrder\";\nimport Orders from \"./pages/orders/Orders\";\n\nexport const useRoutes = isAuthenticated => {\n  if (isAuthenticated) {\n    return (\n      <>\n        <Navbar />\n        <Switch>\n          <Route path=\"/menu\" exact>\n            <MenuPage />\n          </Route>\n          <Route path=\"/cart\">\n            <Cart />\n          </Route>\n          <Route path=\"/make-order\">\n            <MakeOrder />\n          </Route>\n          <Route path=\"/orders\">\n            <Orders />\n          </Route>\n          <Redirect to=\"/menu\" />\n        </Switch>\n      </>\n    )\n  }\n\n  return (\n    <Switch>\n      <Route path=\"/\" exact>\n        <AuthPage />\n      </Route>\n      <Redirect to=\"/\" />\n    </Switch>\n  )\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import {\n  ADD_TO_CART, CLEAR_CART,\n  GET_ALL_PIZZA_LOADED,\n  LOGIN, LOGOUT, REMOVE_FROM_CART\n} from \"./types\";\n\nconst initialState = {\n  token: null,\n  userId: null,\n  pizza: [],\n  cart: []\n}\n\nexport const rootReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case LOGIN:\n      return {\n        ...state,\n        token: action.payload.token,\n        userId: action.payload.userId\n      }\n    case LOGOUT:\n      localStorage.removeItem('userData')\n      return {\n        ...state,\n        token: null,\n        userId: null\n      }\n    case GET_ALL_PIZZA_LOADED:\n      return {\n        ...state,\n        pizza: action.payload\n      }\n    case ADD_TO_CART:\n      const newExtendedCart = [...state.cart, action.payload]\n      localStorage.setItem('cartPizzaIds', JSON.stringify(newExtendedCart.map(item => item._id)))\n      return {\n        ...state,\n        cart: newExtendedCart\n      }\n    case REMOVE_FROM_CART:\n      const newCollapsedCart = state.cart.filter(item => item._id !== action.payload._id)\n      localStorage.setItem('cartPizzaIds', JSON.stringify(newCollapsedCart.map(item => item._id)))\n      return {\n        ...state,\n        cart: newCollapsedCart\n      }\n    case CLEAR_CART:\n      localStorage.removeItem('cartPizzaIds')\n      return {\n        ...state,\n        cart: []\n      }\n    default:\n      return state\n  }\n}\n","import React from 'react';\nimport { render } from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport {applyMiddleware, compose, createStore} from \"redux\";\nimport {rootReducer} from \"./redux/reducer\";\nimport {Provider} from 'react-redux';\nimport thunk from \"redux-thunk\";\n\nconst store = createStore(rootReducer, compose(\n  applyMiddleware(thunk),\n  window.__REDUX_DEVTOOLS_EXTENSION__\n    ? window.__REDUX_DEVTOOLS_EXTENSION__()\n    : f => f\n))\n\nconst app = (\n  <Provider store={store}>\n    <App />\n  </Provider>\n)\n\nrender(app, document.getElementById('root'));\n\nserviceWorker.unregister();\n"],"sourceRoot":""}